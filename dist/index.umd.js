!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.stylish=t()}(this,function(){var e=function(e){return Array.from(e).reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)&65535},0)},t={rules:[],cache:{},hasWindow:"object"==typeof window,isTest:"object"==typeof process&&process.env&&"production"!==process.env.NODE_ENV};function n(n){Array.isArray(n)&&(n=n[0]);var s=t.cache[n];return s||(s=t.cache[n]=function(t){var n="stylish-"+e(t).toString(16);return function(e,t){return function(e){for(var t,n,r=/([^{}]*([{}]))/gm,s=0,o=[];;){var c=r.exec(e);if(!c)break;"{"===c[2]?0==s++?(t=c[1].slice(0,-1),n="{"):n+=c[1]:(n+=c[1],0==--s&&o.push({selector:t,rule:n}))}return o}(e).map(function(e){var n=e.selector,r=e.rule;return n=n.trim(),/^(:root|@)/.test(n)||/:self/.test(n)||(n=/^[+~>]/.test(n)?".:self"+n:".:self "+n),(n=n.replace(/:self/g,t))+function(e){return e.replace(/\s*([,>+~;:}{]{1})\s*/gm,"$1").replace(/;}/g,"}")}(r)})}(t,n).forEach(r),n}(n)),s}function r(e){t.rules.push(e),t.stylesheet&&t.stylesheet.insertRule(e,t.stylesheet.cssRules.length)}return t.isTest&&(n.context=t,t.hasWindow&&(window.$tyli$h=t)),t.stylesheet=function(){if(t.hasWindow){var e=window.document.createElement("style");return window.document.head.appendChild(e).sheet}}(),n});
//# sourceMappingURL=index.umd.js.map
